name: Pull Requests

on:
  workflow_dispatch:
    inputs:
      os:
        required: true
        type: string
        default: 'ubuntu-latest'
      jdk:
        required: true
        type: string
        default: '17'
      ant:
        required: true
        type: string
        default: 'ant artifact'


jobs:
  run:
    runs-on: ${{ inputs.os }}
      name: BUILD
      steps:
        - name: Checkout
          uses: actions/checkout@v2
          with:
            # we don't know what commit the last tag was it's safer to get entire repo so previousStableVersion resolves
            fetch-depth: 0

        - name: Set up python 2
          uses: actions/setup-python@v2
          with:
            python-version: '2.x'
            architecture: 'x64'

        - name: Set up JDK 17
          uses: actions/setup-java@v2
          with:
            java-version: ${{ inputs.jdk }}
            distribution: 'adopt'

        - name: Build with Ant
          working-directory: ./framework
          run: ${{ inputs.ant }}
